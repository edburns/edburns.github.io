/*! For license information please see common-e6a21627.ba7d8b003795a5241161.js.LICENSE.txt */
"use strict";(self.webpackChunk_vzmi_finance_cosaic=self.webpackChunk_vzmi_finance_cosaic||[]).push([[9365],{3504:(e,t,a)=>{a.r(t);var i=a(4603),r=(a(1772),void 0!==i.mE?i.mE:_exports.CIQ);r.Marker?r.Tooltip=r.Tooltip||function(e){if(!r.Marker)return void console.warn("CIQ.Tooltip addon requires CIQ.Marker module to be enabled.");this.cssRequired=!0;const{stx:t,ohl:a,change:i,volume:l,series:o,studies:s,signalStudies:n,interpolation:p,showOverBarOnly:h,showBarHighlight:c=!0,useDataZone:u,caption:d}=e,{container:m}=t.chart;let y=m.querySelector(".hu-tooltip");if(y||(y=document.createElement("table"),y.classList.add("hu-tooltip"),m.appendChild(y)),d){let e=y.querySelector("caption");e||(e=document.createElement("caption"),y.insertBefore(e,y.firstChild)),e.innerHTML=t.translateIf(d)}let f=m.querySelector(".hu-tooltip-highlight");function v(){const{headsUp:e,crosshair:a}=t.layout,i=e&&e.floating||"floating"===e,r=a&&t.displayCrosshairs&&["static",null,void 0].includes(e);return!(!t.huTooltip||i||r)&&(g(),!0)}function g(){const{huTooltip:e}=t,{node:a}=e;a&&(a.style.left="-50000px",a.style.right="auto",a.ariaHidden="true",e.lastBar={},e.highlightEl&&(e.highlightEl.style.display="none"))}function x(){var e=this;if(!v()){var t=e.barFromPixel(e.cx),h=e.chart.dataSegment[t];if(h){if(!r.Marker.Tooltip.sameBar(h,e.huTooltip.lastBar)||t==e.chart.dataSegment.length-1){var c=e.huTooltip.node;c.parentElement.querySelectorAll("[auto]").forEach((e=>e.remove())),c.parentElement.querySelectorAll(".hu-tooltip-value").forEach((e=>e.innerHTML=""));var d=e.chart.panel,m=d.yAxis,y={},f=[];if(f.push({member:"DT",display:"DT",panel:d,yAxis:m}),f.push({member:"Close",display:"Close",panel:d,yAxis:m}),y.DT=y.Close=1,i&&r.ChartEngine.isDailyInterval(e.layout.interval)&&f.push({member:"Change",display:"Change",panel:d,yAxis:m}),!1!==a&&(a||e.chart.highLowBars)&&(f.push({member:"Open",display:"Open",panel:d,yAxis:m}),f.push({member:"High",display:"High",panel:d,yAxis:m}),f.push({member:"Low",display:"Low",panel:d,yAxis:m}),y.Open=y.High=y.Low=1),!1!==l&&(l||e.layout.studies&&Object.values(e.layout.studies).filter((e=>e.libraryEntry.name)).some((e=>e.libraryEntry.name.toLowerCase().includes("volume")||e.libraryEntry.name.toLowerCase().includes("vwap")||e.libraryEntry.name.toLowerCase().includes("money flow")||e.libraryEntry.name.toLowerCase().includes("movement"))))&&(f.push({member:"Volume",display:"Volume",panel:null,yAxis:null}),y.Volume=1),o){var x=e.chart.seriesRenderers;for(var C in x){var b=x[C];if(b!==e.mainSeriesRenderer){d=e.panels[b.params.panel],!(m=b.params.yAxis)&&b.params.shareYAxis&&(m=d.yAxis);for(var T=0;T<b.seriesParams.length;T++){var D=b.seriesParams[T],M=D.symbol,A=D.field;M?A&&M!=A&&(M=r.createObjectChainNames(M,A)[0]):M=A;var P=D.display||D.symbol||D.field;M&&!y[P]&&(f.push({member:M,display:P,panel:d,yAxis:m,isSeries:!0}),y[P]=1)}}}}if(s||n)for(var S in e.layout.studies){var w=e.layout.studies[S];if(n||!w.signalData||w.signalData.reveal){for(var E in m=(d=e.panels[w.panel])&&w.getYAxis(e),e.layout.studies[S].outputMap)if(E&&!y[E]){var L=w.study.alias,H=E,k=e.layout.studies[S].outputMap[H];if(L&&L.hasOwnProperty(k))H=H.replace(k,L[k]);else{var F=new RegExp(w.type,"ig"),_=H.match(F);if(_&&_.length>1){H=H.replace(F,te(0))}}f.push({member:E,display:H,panel:d,yAxis:m}),y[E]=1}y[S+"_hist"]||(f.push({member:S+"_hist",display:S+"_hist",panel:d,yAxis:m}),y[S+"_hist"]=1),y[S+"_hist1"]||(f.push({member:S+"_hist1",display:S+"_hist1",panel:d,yAxis:m}),y[S+"_hist1"]=1),y[S+"_hist2"]||(f.push({member:S+"_hist2",display:S+"_hist2",panel:d,yAxis:m}),y[S+"_hist2"]=1)}}for(var B=0;B<f.length;B++){var q=f[B],I=q.member,O=q.display,U="DT"==I;!U||u||r.ChartEngine.isDailyInterval(e.layout.interval)||(I="displayDate"),d=q.panel;var Y=null;(m=q.yAxis)&&(d&&d===d.chart.panel?(Y=Math.max(m.printDecimalPlaces,d.chart.decimalPlaces),(m.maxDecimalPlaces||0===m.maxDecimalPlaces)&&(Y=Math.min(Y,m.maxDecimalPlaces))):m.decimalPlaces||0===m.decimalPlaces?Y=m.decimalPlaces:(m.maxDecimalPlaces||0===m.maxDecimalPlaces)&&(Y=m.maxDecimalPlaces));var R=null,W=r.existsInObjectChain(h,I);W?R=W.obj[W.member]:"Change"==I&&(R=h.Close-h.iqPrevClose);var j=O.replace(/^(Result )(.*)/,"$2");if((p||"stretch"===this.cleanupGaps)&&f[B].isSeries&&null==R){var N=e.valueFromInterpolation(t,I,"Close",d,m,"stretch"===this.cleanupGaps);if(null===N)continue;R=N}if(!R&&0!==R||!U&&"object"==typeof R&&!R.Close&&0!==R.Close){var V=c.querySelector('.hu-tooltip [hu-tooltip-field="'+j+'"]');if(V)""!==V.querySelector(".hu-tooltip-name").innerHTML&&(V.querySelector(".hu-tooltip-value").innerHTML="n/a")}else{var X="";if((R.Close||0===R.Close)&&(R=R.Close),R.constructor==Number)if(m)X=m.originalPriceFormatter&&m.originalPriceFormatter.func?m.originalPriceFormatter.func(e,d,R,Y):m.priceFormatter&&m.priceFormatter!=r.Comparison.priceFormat?m.priceFormatter(e,d,R,Y):e.formatYAxisPrice(R,d,Y,m);else{X=R;var Q=e.internationalizer;if(Q){var z=Q.priceFormatters.length,G=r.countDecimals(X);G>=z&&(G=z-1),X=Q.priceFormatters[G].format(X)}}else R.constructor==Date?U&&e.controls.floatDate&&e.controls.floatDate.innerHTML?X=e.chart.xAxis.noDraw?"N/A":r.displayableDate(e,d.chart,R):(X=r.yyyymmdd(R),r.ChartEngine.isDailyInterval(e.layout.interval)||(X+=" "+R.toTimeString().substring(0,8))):X=R;var Z=c.querySelector('.hu-tooltip [hu-tooltip-field="'+j+'"]');if(Z){Z.querySelector(".hu-tooltip-value").innerHTML=X;var $=Z.querySelector(".hu-tooltip-name");""===$.innerHTML&&($.innerHTML=j,e.translateUI&&e.translateUI($))}else{var J=document.createElement("tr");J.setAttribute("hu-tooltip-field",""),J.setAttribute("auto",!0);var K=document.createElement("td");K.classList.add("hu-tooltip-name"),K.innerHTML=e.translateIf(j),J.appendChild(K);var ee=document.createElement("td");ee.classList.add("hu-tooltip-value"),ee.innerHTML=X,J.appendChild(ee),(c.querySelector("tbody")||c).appendChild(J)}}}e.huTooltip.render()}}else g()}function te(e){return function(t){return 1==++e?"":t}}}function C(e){if("-50000px"!==e.node.style.left){var a=t.controls.mSticky;if(a&&"none"!==a.style.display){var i=r.stripPX(e.node.style.top)-r.elementDimensions(a,{padding:!0,border:!0,margin:!0}).height;i<0&&(e.node.style.top=r.stripPX(e.node.style.top)-i+"px",i=0);var l=a.style;r.efficientDOMUpdate(l,"top",i+"px"),r.efficientDOMUpdate(l,"left",e.node.style.left),r.efficientDOMUpdate(l,"right",e.node.style.right)}}}f||(f=document.createElement("div"),f.classList.add("hu-tooltip-highlight"),m.appendChild(f)),r.Marker.Tooltip=function(e){this.className||(this.className="CIQ.Marker.Tooltip"),this.highlightEl=f,e.label="tooltip",r.Marker.call(this,e)},r.inheritsFrom(r.Marker.Tooltip,r.Marker,!1),r.Marker.Tooltip.sameBar=function(e,t){return!(!e||!t)&&(+e.DT==+t.DT&&(e.Close==t.Close&&(e.Open==t.Open&&e.Volume==t.Volume)))},r.Marker.Tooltip.placementFunction=function(e){if(v())return;for(var t=e.stx,a=0;a<e.arr.length;a++){var i,l,o,s=e.arr[a],n=t.barFromPixel(t.cx),p=t.chart.dataSegment[n],u=!0;if("undefined"!=p&&p&&p.DT&&(i=!0,p.High&&(l=t.pixelFromPrice(p.High)),p.Low&&(o=t.pixelFromPrice(p.Low)),t.chart.highLowBars||p.Close&&(l=t.pixelFromPrice(p.Close)-15,o=t.pixelFromPrice(p.Close)+15),!h||t.cy>=l&&t.cy<=o||(u=!1)),!t.insideChart||t.openDialog||t.activeDrawing||t.grabbingScreen||!i||!u)return f.style.display="none",s.node.style.left="-50000px",s.node.style.right="auto",s.node.ariaHidden="true",void(s.lastBar={});if(r.Marker.Tooltip.sameBar(t.chart.dataSegment[n],s.lastBar)&&n!=t.chart.dataSegment.length-1)return void C(s);s.lastBar=t.chart.dataSegment[n];const v=s.lastBar.candleWidth||t.layout.candleWidth,g=parseInt(getComputedStyle(s.node).width,10)+v/2+30,x=t.chart.panel.left,b=t.pixelFromBar(n),T=m.clientWidth-b,D=b-x,M=D>g;T>g&&T>D||!M?(s.node.style.left=(b+g<m.clientWidth?Math.round(b+30):m.clientWidth-g)+"px",s.node.style.right="auto"):M?(s.node.style.left="auto",s.node.style.right=Math.round(T+30)+"px"):(s.node.style.left=b-g/2+"px",s.node.style.right=Math.round(T)+"px"),s.node.ariaHidden="false";var d=parseInt(getComputedStyle(s.node).height,10),y=Math.round(t.backOutY(r.ChartEngine.crosshairY)-d/2);if(y+d>t.height&&(y=t.height-d),y<0&&(y=0),s.node.style.top=y+"px",C(s),c&&!t.layout.crosshair){const e=s.lastBar.candleWidth||t.layout.candleWidth,a=t.pixelFromBar(n)-e/2;let i=e;a+i>t.chart.width&&(i=t.chart.width-a),f.style.display="block",f.style.left=a+"px",f.style.width=i+"px"}else f.style.display="none"}if(r.touchDevice&&t.layout.crosshair){var g=t.overXAxis,x=t.overYAxis;t.overXAxis=t.overYAxis=!1,t.doDisplayCrosshairs(),t.overXAxis=g,t.overYAxis=x}},m.addEventListener("mouseout",g),t.append("mousemoveinner",(function(){C(this.huTooltip)})),t.append("deleteHighlighted",(function(){this.huTooltip.lastBar={},this.headsUpHR()})),t.append("headsUpHR",x),t.append("createDataSegment",x),t.huTooltip=new r.Marker.Tooltip({stx:t,xPositioner:"bar",chartContainer:!0,node:y})}:console.error("tooltip addon requires first activating markers feature.")}}]);