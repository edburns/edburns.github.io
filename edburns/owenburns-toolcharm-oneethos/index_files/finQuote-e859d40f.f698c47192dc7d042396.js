/*! For license information please see finQuote-e859d40f.f698c47192dc7d042396.js.LICENSE.txt */
"use strict";(self.webpackChunk_vzmi_finance_cosaic=self.webpackChunk_vzmi_finance_cosaic||[]).push([[4416,6852],{2451:(t,e,s)=>{s(5873),s(263),s(2403),s(7083),s(8762),s(6027),s(5316),s(1216),s(1145),s(4039),s(3504);var n=s(4603),i=s(9261),a=s(7816),r=s(714),o=s(1662),l=s(2438);function c(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function h(t,e,s){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:s;throw new TypeError("Private element is not present on this object")}const d={upgrades:"positive",downgrades:"negative"};var u=new WeakSet;class p{constructor(t,e,s,n=!1){c(this,u),this.events={},this.stx=t,this.chartRange=e,this.fireEvent=s,this.showEarnings=!1,this.showEconomicEvents=!1,this.showAnalystRatings=!1,this.eventsQuoteStore=new Map,this.marketLabel="eventsQuote",this.earningEventKey=n?"spEarningsReleaseEvents":"earningsReleaseEvents",this.init();const i=document.createElement("div");i.classList.add("eventQuoteContainer"),i.innerHTML='\n                <div class="name"></div>\n                <div class="tooltip"></div>\n        ',this.newElement=i,this.selerityGaap=!1}init(){this.stx.container.addEventListener("click",(()=>{var t;null===(t=this.stx.container.querySelector(".eventQuoteContainer.eventQuote.hover"))||void 0===t||t.classList.remove("hover")}))}updateShowForSession(t,e,s){this.showEarnings=t,this.showAnalystRatings=e,this.showEconomicEvents=s}removeAllEventsFromChart(){n.mE.Marker.removeByLabel(this.stx,this.marketLabel)}async loadData(t,e,s,n,i){const a=`${this.earningEventKey},analystRatings,economicEvents`,{timeseries:r}=await(0,o.In)(`${(0,o.xv)()}${o.Y$.TIME_SERIES}${t}?${(0,o.Bp)({lang:e,region:s,padTimeSeries:!0,type:a,period1:n,period2:i})}`),[l={},c={},h={}]=r.result||[],d=t=>{const e=l[t]||c[t]||h[t]||[];return"spEarningsReleaseEvents"===t?e.filter((({gaap:t,nonGaap:e,dateTime:s})=>{var n;return(null===(n=e||t)||void 0===n?void 0:n.earnings)&&!Number.isNaN(Number(s))})).map((({nonGaap:t,gaap:e,dateTime:s})=>{let n=null;if(n=this.selerityGaap?e.earnings?e.earnings:t.earnings:t.earnings?t.earnings:e.earnings,null===n)return null;const{epsEstimate:i,epsActual:a,epsSurprise:r,epsSurprisePercent:o}=n;return{startDateTime:s,epsEstimate:i,epsActual:a,epsSurprise:r,epsSurprisePercent:o}})):e},u={earnings:d(this.earningEventKey),analystRatings:d("analystRatings"),economicEvents:d("economicEvents"),period1:n,period2:i};return this.eventsQuoteStore.set(t,u),u}updateEventsQuote(t,e){if(!t||!e||!e.dateTimeInMillis||Number.isNaN(Number.parseFloat(e.epsActual))||Number.isNaN(Number.parseFloat(e.epsEstimate))||Number.isNaN(Number.parseFloat(e.epsSurprise))||Number.isNaN(Number.parseFloat(e.epsSurprisePercent)))return;const s=this.eventsQuoteStore.get(t);if(!s)return;const{earnings:n}=s,i={};i.epsActual=e.epsActual,i.epsEstimate=e.epsEstimate,i.epsSurprise=e.epsSurprise,i.epsSurprisePercent=e.epsSurprisePercent,i.startDateTime=e.dateTimeInMillis,n.push(i),h(u,this,v).call(this,t)}async showEvents(t,e){if(!r.G7[t].showEventsQuote||!this.showAnalystRatings&&!this.showEarnings&&!this.showEconomicEvents)return void this.removeAllEventsFromChart();const{stx:{chart:{symbolObject:{symbol:s,period1:n,period2:i}}}}=this;if(!s||!n||!i)return;this.selerityGaap=e;let a=this.eventsQuoteStore.get(s);const o=i+86400;(!a||n<a.period1||o>a.period2)&&(a=await this.loadData(s,"en-US","US",n,o)),(a.earnings||a.analystRatings||a.economicEvents)&&h(u,this,v).call(this,s)}}function v(t){this.removeAllEventsFromChart();const{stx:{chart:{dataSegment:e,symbolObject:{exchangeTimeZone:s}},layout:{extended:i}}}=this,a=this.eventsQuoteStore.get(t),r=new Map,o=new Map,c=new Map;let p=e[0].DT.getTime();i||(p-=198e5);const v=e[e.length-1].DT.getTime()+6048e5;function y(t,e){const s=this.newElement.cloneNode(!0);if(s.id=e,s.classList.add("eventQuote"),s.style.display="inline",t.length>1){s.querySelector(".tooltip").innerHTML=""+`\n            <div class="carousel">\n                <div class="carousel-items">\n                    ${t.map((({html:t})=>`<div class="carousel-item">${t}</div>`)).join("")}\n                </div>\n            </div>\n            <div class="carousel-arrows">\n                <button id="left-arrow" class="arrow disabled">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n                        <path d="M10.7733 4.94L9.83325 4L5.83325 8L9.83325 12L10.7733 11.06L7.71992 8L10.7733 4.94Z"/>\n                    </svg>\n                </button>\n                <button id="right-arrow" class="arrow">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n                        <path d="M7.16656 4L6.22656 4.94L9.2799 8L6.22656 11.06L7.16656 12L11.1666 8L7.16656 4Z"/>\n                    </svg>\n                </button>\n            </div>\n            `,s.classList.add("carousel",t[0].type);const e=s.querySelector("#left-arrow"),n=s.querySelector("#right-arrow"),i=s.querySelector(".carousel-items");null==e||e.addEventListener("click",(t=>{t.stopPropagation();let s=i.dataset.currentIndex||0;s>0&&(i.dataset.currentIndex=--s,f(i,e,n),this.fireEvent("eventsQuote-clickLeft"))})),null==n||n.addEventListener("click",(t=>{t.stopPropagation();let s=i.dataset.currentIndex||0;s<i.children.length-1&&(i.dataset.currentIndex=++s,f(i,e,n),this.fireEvent("eventsQuote-clickRight"))}))}else s.querySelector(".tooltip").innerHTML=`${t[0].html}`,s.classList.remove("carousel"),s.classList.add(t[0].type);s.addEventListener("click",(t=>{if(t.stopPropagation(),t.target.classList.contains("name")){var e;if(e=s,document.querySelectorAll(".eventQuoteContainer").forEach((t=>{t!==e&&(t.classList.remove("hover"),t.classList.remove("hide"))})),s.classList.contains("hover"))return s.classList.remove("hover"),void s.classList.add("hide");s.classList.contains("hide")&&(s.classList.remove("hide"),s.classList.add("hover")),s.classList.add("hover")}})),s.addEventListener("mouseenter",(e=>{this.stx.container.querySelector("table.hu-tooltip").style.display="none";const s=e.target.querySelector(".tooltip"),n=e.target.getBoundingClientRect(),i=e.target.parentElement.getBoundingClientRect();s.style.top=`-${n.top-i.top-20}px`;const a=i.left+i.width>=n.left+s.clientWidth;s.style.left=a?"10px":`-${s.clientWidth}px`,this.hoverTimeout=setTimeout((()=>{this.fireEvent("eventsQuote-hover",{type:t[0].type})}),300)})),s.addEventListener("mouseleave",(()=>{s.classList.remove("hide"),this.stx.container.querySelector("table.hu-tooltip").style.display="inline",clearTimeout(this.hoverTimeout)}));const i=this.stx.container.querySelectorAll(".stx-subholder");this.stx.chart.panel.subholder=i[i.length-1],new n.mE.Marker({stx:this.stx,xPositioner:"date",x:new Date(e),yPositioner:"above_candle",label:this.marketLabel,node:s})}function f(t,e,s){const{currentIndex:n}=t.dataset,i=parseInt(n);t.style.transform=`translateX(-${180*n}px)`,e.classList.toggle("disabled",0===i),s.classList.toggle("disabled",i===t.children.length-1)}this.showEarnings&&a.earnings.forEach((t=>{const{startDateTime:e,epsActual:n,epsEstimate:i,epsSurprise:a,epsSurprisePercent:o}=t;if(!n||p>e||v<e)return;let c="";const d=a>0?"positive":"negative";c=`\n                    <div class="event-wrapper">\n                        <div class="event-name"><div class="name earning"></div>Earnings</div>\n                        <div><span>Date</span> <span>${(0,l.bg)(e,s)}</span></div>\n                        <div><span>EPS Estimate</span> <span>${void 0===i?"--":h(u,this,m).call(this,i)}</span></div>\n                        <div><span>EPS Actual</span> <span>${void 0===n?"--":h(u,this,m).call(this,n)}</span></div>\n                        <div><span>EPS Surprise</span> <span class="${d}">${void 0===o?"--":h(u,this,m).call(this,o)}${void 0===o?"":"%"} </span></div>\n                    </div>\n                    `;let y=e;const f=h(u,this,g).call(this,y);y=new Date(this.stx.chart.dataSegment[f].DT).getTime();const w=this.stx.chart.dataSegment[f];if(null==w||!w.Close){var E;const t=null===(E=this.stx.chart.dataSegment.slice(0,f).reverse().find((t=>null==t?void 0:t.Close)))||void 0===E?void 0:E.Close;w.Close=null!=t?t:this.stx.chart.dataSegment[0].iqPrevClose}r.set(y,[{type:"earning",html:c}])})),this.showAnalystRatings&&a.analystRatings.forEach((t=>{const{epochDateInMillis:s,analyst:n,currentPriceTarget:i,currentRating:a,priceTargetAction:r,priorPriceTarget:c,ratingAction:m}=t;if(p>s||v<s)return;const y=null!=c,f=y&&c!==i?c<i?"positive":"negative":"neutral",w=`\n                    <div class="event-wrapper">\n                        <div class="event-name"><div class="name rating"></div>Analyst Rating</div>\n                        <div><span>Date</span> <span>${(0,l.bg)(s,"America/New_York")}</span></div>\n                        <div><span>Analyst</span> <span>${n}</span></div>\n                        <div><span>Rating Action</span> <span class=${d[m.toLowerCase()]||"neutral"}>${m}</span></div>\n                        <div><span>Rating</span> <span>${a}</span></div>\n                        <div><span>Price Action</span> <span class=${f}>${void 0===r?"--":r}</span></div>\n                        <div><span>Price Target</span> <span>${y?`${c} -> `:""}${void 0===i?"--":i}</span></div>\n                    </div>\n                `,E=h(u,this,g).call(this,s),x=new Date(e[E].DT).getTime();o.has(x)?o.get(x).push({type:"rating",html:w}):o.set(x,[{type:"rating",html:w}])})),this.showEconomicEvents&&a.economicEvents.forEach((t=>{const{eventTime:s,countryCode:n,eventName:i,prior:a,actual:r,period:o}=t,d=h(u,this,g).call(this,s),p=new Date(e[d].DT).getTime(),v=`\n                    <div class="event-wrapper">\n                        <div class="event-name"><div class="name economic"></div>Economic Event</div>\n                        <div><span>Date</span> <span>${(0,l.bg)(s,"America/New_York")}</span></div>\n                        <div><span>Name</span> <span>${i}</span></div>\n                        <div><span>Country</span> <span>${n}</span></div>\n                        <div><span>Prior</span> <span>${a}</span></div>\n                        <div><span>New</span> <span>${r||"--"}</span></div>\n                        <div><span>Period</span> <span>${o||"--"}</span></div>\n                    </div>\n                `;c.has(p)?c.get(p).push({type:"economic",html:v}):c.set(p,[{type:"economic",html:v}])})),(r.size||o.size||c.size)&&(r.size&&(null==r||r.forEach(((t,e)=>y.call(this,t,e)))),o.size&&(null==o||o.forEach(((t,e)=>y.call(this,t,e)))),c.size&&(null==c||c.forEach(((t,e)=>y.call(this,t,e)))),this.stx.draw())}function g(t){let e=this.stx.tickFromDate(new Date(t),void 0,void 0,void 0,"dataSegment");return e=e<2?2:Math.min(e,this.stx.chart.dataSegment.length-1),e}function m(t){return t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}function y(t,e){const s=document.getElementById("extendedHourShadingCanvas");t.ChartEngine.prototype.append("drawYAxis",(function(){if(e.extendedHours){const t=function(){if(!s)return null;const t=s.getContext("2d");return s.width=4,s.height=4,t.fillStyle="#d9d9d9",t.fillRect(1,1,1,1),s}();if(t){const s=e.extendedHours.stx.styles["stx_market_session post"],n=e.extendedHours.stx.styles["stx_market_session pre"];if(s){const i=e.chart.context.createPattern(t,"repeat");s.backgroundColor=i,n.backgroundColor=i}}}}))}var f=s(3734);function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function E(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){x(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function x(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var n=s.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const b={chartType:"mountain",crosshair:!0,chartScale:"linear",color:r.lm.blue},S={lang:"en-US",region:"US"},C={enablePremium:!1,isHighValueUser:!1,disableGridLines:{x:!1,y:!1},showExtendedHours:!1,onRapidEvent:()=>{},restore:!1},L="vol undr",A=[L];let T=!1;class D extends a.A{constructor(t={}){super(t),x(this,"handleSymbolChange",(({symbol:t,action:e})=>{switch(e){case"master":this.updateChartTitle();break;case"add-series":case"remove-series":this.doCallback("instrument",{name:"chartiq_series",parameters:{name:t,type:e}})}})),this.config=E(E(E({},C),t),{layout:E(E({},b),t.layout),quoteFeed:E(E({},S),t.quoteFeed)}),this.stx=null,this.events=null,this.init()}addInitialStudies({layout:t,studies:e}){const s=e||A,n=new Map;Object.keys(t.studies||{}).forEach((e=>{n.set(t.studies[e].type,!0)})),s.forEach((t=>{n.has(t)||this.addStudy(t)}))}init(){var t;const{layout:e,quoteFeed:s,studies:i,disableGridLines:a,featureFlags:r=[]}=this.config;this.store=new Map,this.createChartInstance(),super.init(),T||this.customizeCIQ(),this.updateChartTitle(),s&&this.stx.attachQuoteFeed((0,f.A)({chartInstance:this,config:this.config,store:this.store,featureFlags:r}),{refreshInterval:0}),new n.mE.Tooltip({stx:this.stx,ohl:!0,volume:!(null==i||!i.includes(L)),series:!0,studies:!(null==i||!i.length)>0}),this.stx.dontRoll=!0,this.stx.controls.chartControls=null,this.stx.controls.mSticky=null,this.stx.allowZoom=!1,this.stx.allowScroll=!1,this.stx.bypassRightClick=!0,this.stx.captureMouseWheelEvents=!1,this.stx.captureTouchEvents=!1,this.stx.axisBorders=!1,this.stx.chart.lineApproximation=!1,a.x&&(this.stx.chart.xAxis.displayGridLines=!1),a.y&&(this.stx.chart.yAxis.displayGridLines=!1),this.addInitialStudies({layout:e,studies:i}),this.eventsQuote=new p(this.stx,this.config.chartRange,this.config.onRapidEvent,null===(t=this.config.featureFlags)||void 0===t?void 0:t.includes("enableSpEarningEvents")),this.stx.addEventListener("symbolChange",this.handleSymbolChange)}destroy(){this.stx.removeEventListener("symbolChange",this.handleSymbolChange)}initChartEarnings(t,e=!0){var s;const n=()=>{(e?window.finStreamer.subscribe:window.finStreamer.unsubscribe)({subscriberType:"earnings",symbols:[`${t}_EARNINGS`],callback:t=>{for(const e in t){const[s]=e.split("_");this.eventsQuote.updateEventsQuote(s,t[e])}}})};null!==(s=window.finStreamer)&&void 0!==s&&s.initialized?n():window.addEventListener("FIN_STREAMER_READY",n)}updateChartTitle(){const t=this.stx.container.querySelector("cq-chart-title cq-symbol");t&&(t.textContent=this.stx.chart.symbol)}customizeCIQ(){n.mE.extend(n.mE.Studies.studyLibrary[L],{outputs:{"Down Volume":`${r.lm.dividerGray}ee`,"Up Volume":`${r.lm.dividerGray}ee`}}),y(n.mE,this.stx),(0,i.kP)(n.mE,{leftOffset:30,rightOffset:30}),(0,i.f9)(n.mE,this._isOneDayRange),(0,i.c_)(n.mE,this._isOneDayRange,this.config),(0,i.zv)(n.mE),(0,i.y_)(n.mE),(0,i.Hz)(n.mE),T=!0}setPredefinedSpan(t,e){if(this.eventsQuote)if(void 0===e)e=()=>this.eventsQuote.showEvents(this.config.chartRange,this.quoteMeta.selerityIsGaap);else{const t=e;e=e=>{this.eventsQuote.showEvents(this.config.chartRange,this.quoteMeta.selerityIsGaap),t(e)}}super.setPredefinedSpan(t,e)}addStudy(t,e,s,i,a,r){const o=n.mE.Studies.addStudy(this.stx,t,e,s,i,a,r);return this.doCallback("instrument",{name:"chartiq_add_technical_indicator",parameters:{name:o.name,type:"chart"===o.panel?"main":"satellite",count:Object.keys(this.stx.layout.studies).length}}),o}setStripedBackground(t){this.stx.layout.stripedBackground=t,this.stx.draw(),this.dispatchLayoutChangeEvent()}showEventsQuote(t,e,s){var n,i;this.config.featureFlags.indexOf("enableQSPRealtimeEarnings")>-1&&this.quoteMeta.hasSelerityEarnings&&this.initChartEarnings(this.stx.chart.symbol,t),null===(n=this.eventsQuote)||void 0===n||n.updateShowForSession(t,e,"INDEX"===this.quoteMeta.quoteType&&s),null===(i=this.eventsQuote)||void 0===i||i.showEvents(this.config.chartRange,this.quoteMeta.selerityIsGaap)}setExtendedHours(t){super.setExtendedHours(t,(()=>{this.showEventsQuote(this.eventsQuote.showEarnings,this.eventsQuote.showAnalystRatings,this.eventsQuote.showEconomicEvents)}))}}"undefined"!=typeof window&&(window.YFinChart||(window.YFinChart={}),window.YFinChart.QuoteChart=D.default||D,window.YFinChart.CIQ=n.mE,window.dispatchEvent(new CustomEvent("YFINCHART_SRC_LOAD",{detail:{event:"asset-load"}})))},9261:(t,e,s)=>{function n(t,e){window.chartIQTestingData?window.chartIQTestingData[t]=e:window.chartIQTestingData={key:e}}s.d(e,{Hz:()=>p,c_:()=>u,f9:()=>c,kP:()=>a,ql:()=>o,vz:()=>r,y_:()=>d,z9:()=>l,zv:()=>h});const i={LINE_UP:"rgb(3, 123, 102)",LINE_DOWN:"rgb(214, 10, 34)"};function a(t,{leftOffset:e,rightOffset:s}){t.ChartEngine.prototype.prepend("createXAxis",(function(t){const n=this.createSpacedDateXAxis(t),i=[];for(let a=0;a<n.length;a++)n[a].hz<this.chart.panel.left+e||n[a].hz>this.chart.panel.right-s||i.push(n[a]);return i}))}function r(t){var e;return null==t||null===(e=t.find((({Close:t=null})=>t||0===t)))||void 0===e?void 0:e.Close}function o(t){var e;const{chart:{dataSegment:s}}=t;return null===(e=s.findLast((({previousClose:t})=>t||0===t)))||void 0===e?void 0:e.previousClose}function l(t){const e=null==t?void 0:t.findLast((({Close:t})=>t||0===t));let s=e?null==e?void 0:e.Close:null;var n;s||0===s||(s=null===(n=t[t.length-1])||void 0===n?void 0:n.iqPrevClose);return{Close:s,tick:null==e?void 0:e.tick}}function c(t,e){t.ChartEngine.prototype.append("plotYAxisText",(function(t){if(!e())return;const s=o(this);if(s){const e=this.pixelFromPrice(s,this.chart.panel,this.chart.yAxis);this.createYAxisLabel(this.panels.chart,s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e,this.getCanvasColor("stx_mountain_baseline"),this.getCanvasColor("stx_mountain_color")),this.plotLine(0,1,e,e,this.getCanvasColor("stx_mountain_baseline"),"line",t.chart.context,t,{pattern:"dashed",lineWidth:"1",opacity:.7}),n("yAxisLabels",{prevClose:s})}}))}function h(t){t.ChartEngine.prototype.origPlotDataSegmentAsLine=t.ChartEngine.prototype.plotDataSegmentAsLine,t.ChartEngine.prototype.plotDataSegmentAsLine=function(t,e,s,n){return s.extendOffChart=!1,this.origPlotDataSegmentAsLine(t,e,s,n)}}function d(t){t.ChartEngine.prototype.origDetermineMinMax=t.ChartEngine.prototype.determineMinMax,t.ChartEngine.prototype.determineMinMax=function(t,e,s,n,i,a,r,o,l){return Array.isArray(e)&&e.push("previousClose"),this.origDetermineMinMax(t,e,s,n,i,a,r,o,l)}}function u(t,e){t.ChartEngine.prototype.origDrawMountainChart=t.ChartEngine.prototype.drawMountainChart,t.ChartEngine.prototype.drawMountainChart=function(t,s,a){const c=this.getDataSegment(),h=l(c);if(!Number.isNaN(Number(h.Close))&&(null==c?void 0:c.length)>0&&"mountain"==this.layout.chartType){let a;a=e()?o(this):r(c);const l=a<h.Close,{context:d}=this.chart,u=s.yAxis||t.yAxis;let{top:p}=u;(isNaN(p)||isNaN(p/p))&&(p=0);const v=d.createLinearGradient(0,p+100,0,u.bottom),g=l?"rgba(3, 123, 102, 0)":"rgba(255, 255, 255, 0)",m=l?"rgba(4, 134, 111, 0.15)":"rgba(214, 10, 34, 0.15)";v.addColorStop(u.flipped?1:0,m),v.addColorStop(u.flipped?0:1,g),s.fillStyle=v,s.color=l?i.LINE_UP:i.LINE_DOWN,s.width="1.5",n("mountainColor",{isUp:l})}return this.origDrawMountainChart(t,s,a)}}function p(t){t.ChartEngine.prototype.createYAxisLabel=function(e,s,n,i,a,r,o){const l=o||e.yAxis;if(!1===l.drawPriceLabels||l.noDraw||!l.width)return;const c=r||this.chart.context,h=this.getCanvasFontSize("stx_yaxis")+12;this.canvasFont("stx_yaxis",c);let d=null===l.displayBorder?e.yAxis.displayBorder:l.displayBorder;!1===this.axisBorders&&(d=!1),!0===this.axisBorders&&(d=!0);const u=d?3:0;let p,v,g,m=3;try{p=c.measureText(s).width+u+6}catch(w){p=l.width}"left"===(null===l.position?e.chart.yAxis.position:l.position)?(g=l.left+l.width,l.width<0&&(g-=l.width+p),m=-3,!1===l.justifyRight?(c.textAlign="left",p=-1*l.width,v=g-l.width+3):(c.textAlign="right",p*=-1,v=g-3-u)):(g=l.left,l.width<0&&(g+=l.width-p),l.justifyRight?(c.textAlign="right",p=l.width,v=l.left+p-3):(c.textAlign="left",v=g+3+u)),n+h/2>l.bottom&&(n=l.bottom-h/2),n-h/2<l.top&&(n=l.top+h/2);let y=this.yaxisLabelStyle;l.yaxisLabelStyle&&(y=l.yaxisLabelStyle);const f={ctx:c,x:g,y:n,top:n-h/2,width:p+2,height:h,radius:m,backgroundColor:i,fill:!0,stroke:!1,margin:{left:v-g,top:.5},txt:s,color:a};t[y](f)}}}}]);